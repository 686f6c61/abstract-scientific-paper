{"ast":null,"code":"var _jsxFileName = \"/home/the00b/Escritorio/RAG_Gradio/client/src/components/FileUpload.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport { Button, Box, Typography, Alert } from '@mui/material';\nimport { useDropzone } from 'react-dropzone';\nimport UploadFileIcon from '@mui/icons-material/UploadFile';\nimport { usePdf } from '../contexts/PdfContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FileUpload = () => {\n  _s();\n  const {\n    uploadPdf\n  } = usePdf();\n  const [uploadError, setUploadError] = useState(null);\n  const onDrop = useCallback(async acceptedFiles => {\n    setUploadError(null);\n\n    // Check if files are PDFs\n    const nonPdfFiles = acceptedFiles.filter(file => !file.type.includes('pdf'));\n    if (nonPdfFiles.length > 0) {\n      setUploadError('Solo se permiten archivos PDF');\n      return;\n    }\n\n    // Upload each file\n    try {\n      for (const file of acceptedFiles) {\n        await uploadPdf(file);\n      }\n    } catch (error) {\n      setUploadError('Error al subir el archivo: ' + error.message);\n    }\n  }, [uploadPdf]);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop,\n    accept: {\n      'application/pdf': ['.pdf']\n    },\n    maxSize: 50 * 1024 * 1024 // 50MB\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [uploadError && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2,\n        fontSize: '0.8rem'\n      },\n      onClose: () => setUploadError(null),\n      children: uploadError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      ...getRootProps(),\n      sx: {\n        border: '2px dashed',\n        borderColor: isDragActive ? 'primary.main' : 'grey.300',\n        borderRadius: 1,\n        p: 2,\n        textAlign: 'center',\n        cursor: 'pointer',\n        bgcolor: isDragActive ? 'primary.light' : 'background.paper',\n        '&:hover': {\n          bgcolor: 'grey.50',\n          borderColor: 'primary.light'\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ...getInputProps()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(UploadFileIcon, {\n        sx: {\n          fontSize: 40,\n          color: 'primary.main',\n          mb: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        children: isDragActive ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Suelta el archivo aqu\\xED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Arrastra un PDF aqu\\xED, o haz clic para seleccionarlo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      fullWidth: true,\n      sx: {\n        mt: 2\n      },\n      startIcon: /*#__PURE__*/_jsxDEV(UploadFileIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 20\n      }, this),\n      ...getRootProps(),\n      children: \"Subir PDF\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(FileUpload, \"M/KWezkIZkpJlkXtH7JzfoSIPV4=\", false, function () {\n  return [usePdf, useDropzone];\n});\n_c = FileUpload;\nexport default FileUpload;\nvar _c;\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"names":["React","useState","useCallback","Button","Box","Typography","Alert","useDropzone","UploadFileIcon","usePdf","jsxDEV","_jsxDEV","Fragment","_Fragment","FileUpload","_s","uploadPdf","uploadError","setUploadError","onDrop","acceptedFiles","nonPdfFiles","filter","file","type","includes","length","error","message","getRootProps","getInputProps","isDragActive","accept","maxSize","children","severity","sx","mb","fontSize","onClose","fileName","_jsxFileName","lineNumber","columnNumber","border","borderColor","borderRadius","p","textAlign","cursor","bgcolor","color","variant","fullWidth","mt","startIcon","_c","$RefreshReg$"],"sources":["/home/the00b/Escritorio/RAG_Gradio/client/src/components/FileUpload.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { \n  Button, \n  Box, \n  Typography,\n  Alert\n} from '@mui/material';\nimport { useDropzone } from 'react-dropzone';\nimport UploadFileIcon from '@mui/icons-material/UploadFile';\nimport { usePdf } from '../contexts/PdfContext';\n\nconst FileUpload = () => {\n  const { uploadPdf } = usePdf();\n  const [uploadError, setUploadError] = useState(null);\n\n  const onDrop = useCallback(async (acceptedFiles) => {\n    setUploadError(null);\n    \n    // Check if files are PDFs\n    const nonPdfFiles = acceptedFiles.filter(file => !file.type.includes('pdf'));\n    if (nonPdfFiles.length > 0) {\n      setUploadError('Solo se permiten archivos PDF');\n      return;\n    }\n    \n    // Upload each file\n    try {\n      for (const file of acceptedFiles) {\n        await uploadPdf(file);\n      }\n    } catch (error) {\n      setUploadError('Error al subir el archivo: ' + error.message);\n    }\n  }, [uploadPdf]);\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept: {\n      'application/pdf': ['.pdf']\n    },\n    maxSize: 50 * 1024 * 1024, // 50MB\n  });\n\n  return (\n    <>\n      {uploadError && (\n        <Alert severity=\"error\" sx={{ mb: 2, fontSize: '0.8rem' }} onClose={() => setUploadError(null)}>\n          {uploadError}\n        </Alert>\n      )}\n      \n      <Box\n        {...getRootProps()}\n        sx={{\n          border: '2px dashed',\n          borderColor: isDragActive ? 'primary.main' : 'grey.300',\n          borderRadius: 1,\n          p: 2,\n          textAlign: 'center',\n          cursor: 'pointer',\n          bgcolor: isDragActive ? 'primary.light' : 'background.paper',\n          '&:hover': {\n            bgcolor: 'grey.50',\n            borderColor: 'primary.light',\n          },\n        }}\n      >\n        <input {...getInputProps()} />\n        <UploadFileIcon sx={{ fontSize: 40, color: 'primary.main', mb: 1 }} />\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          {isDragActive ? (\n            <span>Suelta el archivo aquí</span>\n          ) : (\n            <span>Arrastra un PDF aquí, o haz clic para seleccionarlo</span>\n          )}\n        </Typography>\n      </Box>\n      \n      <Button\n        variant=\"contained\"\n        fullWidth\n        sx={{ mt: 2 }}\n        startIcon={<UploadFileIcon />}\n        {...getRootProps()}\n      >\n        Subir PDF\n      </Button>\n    </>\n  );\n};\n\nexport default FileUpload;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}